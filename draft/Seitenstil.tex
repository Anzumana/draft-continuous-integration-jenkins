% Zeilenabstand: einfach 
\newcommand{\zeilenabstandHauptteil}{1.0}
\newcommand{\zeilenabstandAnhang}{1.0}

% Seitenränder
\setlength{\topskip}{\ht\strutbox} % behebt Warnung von geometry
% Initiales Papierformat, wird nach dem Deckblatt teilwiese geändert 
\geometry{paper=a4paper,left=3.5cm, right=2.5cm, top=2.5cm, headsep=1cm}

% Einstellen der Schriftgrößen der Überschriften
\titleformat{\chapter}[hang]{\LARGE\bfseries}{\thechapter\quad}{0pt}{}
\titleformat{\section}[hang]{\Large\bfseries}{\thesection\quad}{0pt}{}
\titleformat{\subsection}[hang]{\large\bfseries}{\thesubsection\quad}{0pt}{}
\titleformat{\subsubsection}[hang]{\large\mdseries}{\thesubsubsection\quad}{0pt}{}

% Einstellen der Abstände vor und nach den Überschriften
\titlespacing{\chapter}{0pt}{-3em}{0pt}
\titlespacing{\section}{0pt}{0pt}{0pt}
\titlespacing{\subsection}{0pt}{0pt}{0pt}
\titlespacing{\subsubsection}{0pt}{0pt}{0pt}
\titlespacing{\paragraph}{0pt}{0pt}{0pt}

% Definieren eines Stils für die Kopf- und Fußzeilen
\fancypagestyle{mypagestyle}{%
  \fancyhf{}% Erstmal alles zurücksetzen
  % Auf ungeraden Seiten: Kapitelüberschrift, oben rechts
  \fancyhead[OR]{\leftmark}
  \ifthenelse{\boolean{final}}{}{\fancyhead[OL]{Version vom \today~(Vor
  Abgabe entfernen)}}
  % Auf geraden Seiten: Titel der Arbeit, oben links
  \fancyhead[EL]{\titel}
  \ifthenelse{\boolean{final}}{}{\fancyhead[ER]{Version vom \today~(Vor
  Abgabe entfernen)}}
  % Jeweils die Seitenzahl
  \fancyfoot[OR]{\thepage}
  \fancyfoot[EL]{\thepage}
  % Jeweils die Version, wenn es nicht die finale Version ist, sonst nichts. 
  \ifthenelse{\boolean{final}}{}{\fancyfoot[OL]{\version~(Vor
  Abgabe entfernen)}}
  \ifthenelse{\boolean{final}}{}{\fancyfoot[ER]{\version~(Vor
  Abgabe entfernen)}}
}
\pagestyle{mypagestyle}
\renewcommand*{\chapterpagestyle}{mypagestyle} 

% So wird nur der Titel des Kapitels mit \leftmark ausgegeben.
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}

%  Schriftform der Kopfzeile setzen
\renewcommand{\headfont}{\normalfont}

% Größe von Kopf- und Fußzeile setzen
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% erzeugt ein wenig mehr Platz hinter einem Punkt
\frenchspacing 

% Schusterjungen und Hurenkinder vermeiden
\clubpenalty = 10000
\widowpenalty = 10000 
\displaywidowpenalty = 10000

% Quellcode-Ausgabe formatieren
\lstset{numbers=left, numberstyle=\tiny, numbersep=5pt, breaklines=true}
\lstset{emph={square}, emphstyle=\color{red}, emph={[2]root,base}, emphstyle={[2]\color{blue}}}

% Fußnoten fortlaufend durchnummerieren
\counterwithout{footnote}{chapter}

% Einstellungen für Listings
\definecolor{hellgelb}{rgb}{1,1,0.9}
\definecolor{colKeys}{rgb}{0,0,1}
\definecolor{colIdentifier}{rgb}{0,0,0}
\definecolor{colComments}{rgb}{1,0,0}
\definecolor{colString}{rgb}{0,0.5,0}
\lstset{
    float=hbp,
    columns=flexible,
    tabsize=2,
    frame=single,
    extendedchars=true,
    showspaces=false,
    showstringspaces=false,
    numbers=left,
    numberstyle=\tiny,
    breaklines=true,
    breakautoindent=true,
    xleftmargin=0.6cm,
    xrightmargin=0.1cm,
    captionpos=b
}